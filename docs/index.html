<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Program Summary</title>
  <link rel="stylesheet" href="../styles/dashboard.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    @media print {
      .nav-dropdown { display: none; }
      canvas { max-width: 100% !important; height: auto !important; }
    }
    .timestamp {
      position: fixed;
      bottom: 10px;
      right: 20px;
      font-size: 0.8rem;
      color: #666;
    }
  </style>
</head>
<body>
  <div class="nav-dropdown">
    <label for="nav-select">Jump to Page:</label>
    <select id="nav-select" onchange="location = this.value;">
      <option value="#">-- Select --</option>
      <option value="index.html" selected>Program Summary</option>
      <option value="sprint_readiness.html">Sprint Readiness</option>
      <option value="backlog_health.html">Backlog Health</option>
    </select>
  </div>

  <header>
    <h1>Overall Program Health</h1>
    <img src="img/blinking_stoplight_red.gif" alt="Overall Status" class="big-stoplight">
    <p><strong>Red</strong> —
      At Risk: Needs Immediate Attention
      
    </p>
  </header>

  <section>
    <h2>How This Was Calculated</h2>
    <p>The program status is based on the worst team status. Red = at least one team is Red. Yellow = at least one Yellow, none Red. Green = all teams Green.</p>
  </section>

  <section>
    <h2>Program-wide Metrics</h2>
    <div class="chart-row">
      <div class="chart-box">
        <h3>% Stories Ready</h3>
        <canvas id="readinessChart" width="160" height="160"></canvas>
        <p>Legend: Green = Platform, Yellow = Product, Red = AI Ops, Blue = Data Science, Cyan = Design</p>
      </div>
      <div class="chart-box">
        <h3>% Backlog Groomed</h3>
        <canvas id="groomingChart" width="160" height="160"></canvas>
        <p>Legend: Blue = Platform, Light Blue = Product, Aqua = AI Ops, Grey = Data Science, Teal = Design</p>
      </div>
    </div>
  </section>

  <section>
    <h2>Team-Level Breakdown</h2>
    <ul>
      
      <li><strong>Engineering - Platform</strong>: 90% of sprint stories are ready. Indicates how defined and actionable the team’s current sprint workload is.</li>
      
      <li><strong>Engineering - Product</strong>: 75% of sprint stories are ready. Indicates how defined and actionable the team’s current sprint workload is.</li>
      
      <li><strong>Engineering - AI Ops</strong>: 60% of sprint stories are ready. Indicates how defined and actionable the team’s current sprint workload is.</li>
      
      <li><strong>Data Science</strong>: 50% of sprint stories are ready. Indicates how defined and actionable the team’s current sprint workload is.</li>
      
      <li><strong>Design</strong>: 65% of sprint stories are ready. Indicates how defined and actionable the team’s current sprint workload is.</li>
      
    </ul>
  </section>

  <div class="timestamp">
    Last updated: May 27, 2025 @ 02:51 AM
  </div>

  <script>
    const readinessData = {
      labels: ["Engineering - Platform","Engineering - Product","Engineering - AI Ops","Data Science","Design"],
      datasets: [{
        label: '% Ready',
        data: [90,75,60,50,65],
        backgroundColor: ['#4caf50', '#cddc39', '#ffc107', '#03a9f4', '#00bcd4']
      }]
    };

    const groomingData = {
      labels: ["Engineering - Platform","Engineering - Product","Engineering - AI Ops","Data Science","Design"],
      datasets: [{
        label: '% Groomed',
        data: [80,55,20,0,50],
        backgroundColor: ['#2196f3', '#29b6f6', '#26c6da', '#90a4ae', '#00897b']
      }]
    };

    new Chart(document.getElementById('readinessChart'), {
      type: 'doughnut',
      data: readinessData,
      options: {
        responsive: false,
        plugins: {
          legend: { position: 'bottom' }
        }
      }
    });

    new Chart(document.getElementById('groomingChart'), {
      type: 'doughnut',
      data: groomingData,
      options: {
        responsive: false,
        plugins: {
          legend: { position: 'bottom' }
        }
      }
    });

    setTimeout(() => window.location.reload(true), 300000);
  </script>
</body>
</html>